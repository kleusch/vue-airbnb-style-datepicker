!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vueAirbnbStyleDatepicker=e()}(this,function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},writable:!0,configurable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],s=0;s<n;){var r=e[s];if(t.call(i,r,s,e))return s;s++}return-1}});var n=function(t){return t instanceof Date},i=36e5,s=6e4,r=2,a=/[T ]/,o=/:/,h=/^(\d{2})$/,c=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,f=/^-?(\d{3})$/,p=/^-?(\d{2})-?(\d{2})$/,g=/^-?W(\d{2})$/,m=/^-?W(\d{2})-?(\d{1})$/,D=/^(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,v=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,w=/([Z+-].*)$/,b=/^(Z)$/,M=/^([+-])(\d{2})$/,S=/^([+-])(\d{2}):?(\d{2})$/;function _(t,e,n){e=e||0,n=n||0;var i=new Date(0);i.setUTCFullYear(t,0,4);var s=7*e+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+s),i}var k=function(t,e){if(n(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var k=(e||{}).additionalDigits;k=null==k?r:Number(k);var T=function(t){var e,n={},i=t.split(a);if(o.test(i[0])?(n.date=null,e=i[0]):(n.date=i[0],e=i[1]),e){var s=w.exec(e);s?(n.time=e.replace(s[1],""),n.timezone=s[1]):n.time=e}return n}(t),x=function(t,e){var n,i=c[e],s=l[e];if(n=u.exec(t)||s.exec(t)){var r=n[1];return{year:parseInt(r,10),restDateString:t.slice(r.length)}}if(n=h.exec(t)||i.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(T.date,k),E=x.year,Y=function(t,e){if(null===e)return null;var n,i,s,r;if(0===t.length)return(i=new Date(0)).setUTCFullYear(e),i;if(n=d.exec(t))return i=new Date(0),s=parseInt(n[1],10)-1,i.setUTCFullYear(e,s),i;if(n=f.exec(t)){i=new Date(0);var a=parseInt(n[1],10);return i.setUTCFullYear(e,0,a),i}if(n=p.exec(t)){i=new Date(0),s=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return i.setUTCFullYear(e,s,o),i}if(n=g.exec(t))return r=parseInt(n[1],10)-1,_(e,r);if(n=m.exec(t)){r=parseInt(n[1],10)-1;var h=parseInt(n[2],10)-1;return _(e,r,h)}return null}(x.restDateString,E);if(Y){var F,O=Y.getTime(),C=0;return T.time&&(C=function(t){var e,n,r;if(e=D.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*i;if(e=y.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*i+r*s;if(e=v.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return n%24*i+r*s+1e3*a}return null}(T.time)),T.timezone?(W=T.timezone,F=($=b.exec(W))?0:($=M.exec(W))?(I=60*parseInt($[2],10),"+"===$[1]?-I:I):($=S.exec(W))?(I=60*parseInt($[2],10)+parseInt($[3],10),"+"===$[1]?-I:I):0):(F=new Date(O+C).getTimezoneOffset(),F=new Date(O+C+F*s).getTimezoneOffset()),new Date(O+C+F*s)}var W,$,I;return new Date(t)};var T=function(t){var e=k(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n};var x=function(t){var e=k(t);return e.setHours(0,0,0,0),e},E=6e4,Y=864e5;var F=function(t,e){var n=x(t),i=x(e),s=n.getTime()-n.getTimezoneOffset()*E,r=i.getTime()-i.getTimezoneOffset()*E;return Math.round((s-r)/Y)};var O=function(t){var e=k(t);return F(e,T(e))+1};var C=function(t,e){var n=e&&Number(e.weekStartsOn)||0,i=k(t),s=i.getDay(),r=(s<n?7:0)+s-n;return i.setDate(i.getDate()-r),i.setHours(0,0,0,0),i};var W=function(t){return C(t,{weekStartsOn:1})};var $=function(t){var e=k(t),n=e.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var s=W(i),r=new Date(0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);var a=W(r);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1};var I=function(t){var e=$(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),W(n)},H=6048e5;var A=function(t){var e=k(t),n=W(e).getTime()-I(e).getTime();return Math.round(n/H)+1};var N=function(t){if(n(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")};var B=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];var R=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var i=B.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+i.join("|")+"|.)","g")};var P=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["AM","PM"],a=["am","pm"],o=["a.m.","p.m."],h={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return i[t.getDay()]},dddd:function(t){return s[t.getDay()]},A:function(t){return t.getHours()/12>=1?r[1]:r[0]},a:function(t){return t.getHours()/12>=1?a[1]:a[0]},aa:function(t){return t.getHours()/12>=1?o[1]:o[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){h[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:h,formattingTokensRegExp:R(h)}},z={distanceInWords:function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,i){var s;return i=i||{},s="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),i.addSuffix?i.comparison>0?"in "+s:s+" ago":s}}}(),format:P()};var j={M:function(t){return t.getMonth()+1},MM:function(t){return X(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return X(t.getDate(),2)},DDD:function(t){return O(t)},DDDD:function(t){return X(O(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return A(t)},WW:function(t){return X(A(t),2)},YY:function(t){return X(t.getFullYear(),4).substr(2)},YYYY:function(t){return X(t.getFullYear(),4)},GG:function(t){return String($(t)).substr(2)},GGGG:function(t){return $(t)},H:function(t){return t.getHours()},HH:function(t){return X(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return X(j.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return X(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return X(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return X(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return X(t.getMilliseconds(),3)},Z:function(t){return L(t.getTimezoneOffset(),":")},ZZ:function(t){return L(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function L(t,e){e=e||"";var n=t>0?"-":"+",i=Math.abs(t),s=i%60;return n+X(Math.floor(i/60),2)+e+X(s,2)}function X(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}var G=function(t,e,n){var i=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",s=(n||{}).locale,r=z.format.formatters,a=z.format.formattingTokensRegExp;s&&s.format&&s.format.formatters&&(r=s.format.formatters,s.format.formattingTokensRegExp&&(a=s.format.formattingTokensRegExp));var o=k(t);return N(o)?function(t,e,n){var i,s,r,a=t.match(n),o=a.length;for(i=0;i<o;i++)s=e[a[i]]||j[a[i]],a[i]=s||((r=a[i]).match(/\[[\s\S]/)?r.replace(/^\[|]$/g,""):r.replace(/\\/g,""));return function(t){for(var e="",n=0;n<o;n++)a[n]instanceof Function?e+=a[n](t,j):e+=a[n];return e}}(i,r,a)(o):"Invalid Date"};var J=function(t){var e=k(t),n=e.getFullYear(),i=e.getMonth(),s=new Date(0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()};var Z=function(t,e){var n=k(t),i=Number(e),s=n.getMonth()+i,r=new Date(0);r.setFullYear(n.getFullYear(),s,1),r.setHours(0,0,0,0);var a=J(r);return n.setMonth(s,Math.min(a,n.getDate())),n};var U=function(t,e){var n=Number(e);return Z(t,-n)};var K=function(t,e){var n=k(t),i=k(e);return n.getTime()<i.getTime()};var Q=function(t,e){var n=k(t),i=k(e);return n.getTime()>i.getTime()},q=function(t){return JSON.parse(JSON.stringify(t))},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"asd__fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDatepicker,expression:"showDatepicker"},{name:"click-outside",rawName:"v-click-outside",value:t.handleClickOutside,expression:"handleClickOutside"}],staticClass:"asd__wrapper",class:t.wrapperClasses,style:t.showFullscreen?void 0:t.wrapperStyles,attrs:{id:t.wrapperId}},[t.showFullscreen?n("div",{staticClass:"asd__mobile-header asd__mobile-only"},[n("div",{staticClass:"asd__mobile-close",on:{click:t.closeDatepicker}},[n("div",{staticClass:"asd__mobile-close-icon"},[t._v("X")])]),t._v(" "),n("h3",[t._v(t._s(t.mobileHeader))])]):t._e(),t._v(" "),n("div",{staticClass:"asd__datepicker-header"},[n("div",{staticClass:"asd__change-month-button asd__change-month-button--previous"},[n("button",{attrs:{type:"button"},on:{click:t.previousMonth}},[n("svg",{attrs:{viewBox:"0 0 1000 1000"}},[n("path",{attrs:{d:"M336.2 274.5l-210.1 210h805.4c13 0 23 10 23 23s-10 23-23 23H126.1l210.1 210.1c11 11 11 21 0 32-5 5-10 7-16 7s-11-2-16-7l-249.1-249c-11-11-11-21 0-32l249.1-249.1c21-21.1 53 10.9 32 32z"}})])])]),t._v(" "),n("div",{staticClass:"asd__change-month-button asd__change-month-button--next"},[n("button",{attrs:{type:"button"},on:{click:t.nextMonth}},[n("svg",{attrs:{viewBox:"0 0 1000 1000"}},[n("path",{attrs:{d:"M694.4 242.4l249.1 249.1c11 11 11 21 0 32L694.4 772.7c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210.1-210.1H67.1c-13 0-23-10-23-23s10-23 23-23h805.4L662.4 274.5c-21-21.1 11-53.1 32-32.1z"}})])])])]),t._v(" "),n("div",{staticClass:"asd__inner-wrapper",style:t.innerStyles},[n("transition-group",{attrs:{name:"asd__list-complete",tag:"div"}},t._l(t.months,function(e,i){return n("div",{key:e.firstDateOfMonth,staticClass:"asd__month",class:{hidden:0===i||i>t.showMonths},style:t.monthWidthStyles},[n("div",{staticClass:"asd__month-name"},[t._v(t._s(e.monthName)+" "+t._s(e.year))]),t._v(" "),n("table",{staticClass:"asd__month-table",attrs:{role:"presentation"}},[n("thead",[n("tr",{staticClass:"asd__day-titles"},t._l(t.daysShort,function(e,i){return n("th",{key:"day-".concat(i),staticClass:"asd__day-title"},[t._v(t._s(e))])}))]),t._v(" "),n("tbody",t._l(e.weeks,function(e,i){return n("tr",{key:i,staticClass:"asd__week"},t._l(e,function(e,i){var s=e.fullDate,r=e.dayNumber;return n("td",{key:i+"_"+r,staticClass:"asd__day",class:{"asd__day--enabled":0!==r,"asd__day--empty":0===r,"asd__day--default":t.isDefault(s)||t.initial,"asd__day--disabled":t.isDisabled(s),"asd__day--selected":t.selectedDate1===s||t.selectedDate2===s,"asd__day--selected-date-one":t.selectedDate1===s,"asd__day--selected-date-two":t.selectedDate2===s,"asd__day--in-range":t.isInRange(s),"asd__day--holiday":t.isHoliday(s)},style:t.getDayStyles(s),attrs:{"data-date":s},on:{mouseover:function(){t.setHoverDate(s)}}},[r?n("button",{staticClass:"asd__day-button",attrs:{type:"button",date:s,disabled:t.isDisabled(s)},on:{click:function(e){t.onDayClick(s)}}},[t._v(t._s(r))]):t._e()])}))}))])])}))],1),t._v(" "),"single"!==t.mode&&t.showActionButtons?n("div",{staticClass:"asd__action-buttons"},[n("button",{attrs:{type:"button"},on:{click:t.closeDatepickerCancel}},[t._v(t._s(t.texts.cancel))]),t._v(" "),n("button",{style:{color:t.colors.selected},attrs:{type:"button"},on:{click:t.apply}},[t._v(t._s(t.texts.apply))])]):t._e()])])},staticRenderFns:[],name:"AirbnbStyleDatepicker",props:{triggerElementId:{type:String},dateOne:{type:[String,Date],default:G(new Date)},dateTwo:{type:[String,Date]},selectDate1:{type:Boolean},minDate:{type:[String,Date]},endDate:{type:[String,Date]},mode:{type:String,default:"range"},offsetY:{type:Number,default:0},offsetX:{type:Number,default:0},monthsToShow:{type:Number,default:2},startOpen:{type:Boolean},fullscreenMobile:{type:Boolean},inline:{type:Boolean},mobileHeader:{type:String,default:"Select date"},disabledDates:{type:Array,default:function(){return[]}},showActionButtons:{type:Boolean,default:!0},isTest:{type:Boolean,default:function(){return!1}},trigger:{type:Boolean,default:!1},holidays:{type:Array}},data:function(){return{wrapperId:"airbnb-style-datepicker-wrapper-"+function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}(5),dateFormat:"YYYY-MM-DD",showDatepicker:!1,showMonths:2,colors:{selected:"#00a699",inRange:"#66e2da",selectedText:"#fff",text:"#565a5c",inRangeBorder:"#33dacd",disabled:"#fff"},sundayFirst:!1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["M","D","M","D","F","S","S"],texts:{apply:"Apply",cancel:"Cancel"},startingDate:"",months:[],width:300,selectedDate1:"",selectedDate2:"",isSelectingDate1:!0,initial:!0,hoverDate:"",alignRight:!1,triggerPosition:{},triggerWrapperPosition:{},viewportWidth:window.innerWidth+"px",isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<=1024,triggerElement:void 0}},computed:{wrapperClasses:function(){return{"asd__wrapper--datepicker-open":this.showDatepicker,"asd__wrapper--full-screen":this.showFullscreen,"asd__wrapper--inline":this.inline,"asd__wrapper--initial":this.initial}},wrapperStyles:function(){return{position:this.inline?"static":"absolute",top:this.inline?"0":this.triggerPosition.height+this.offsetY+"px",left:this.alignRight?"":this.triggerPosition.left-this.triggerWrapperPosition.left+this.offsetX+"px",right:this.alignRight?this.triggerWrapperPosition.right-this.triggerPosition.right+this.offsetX+"px":"",width:this.width*this.showMonths+"px",zIndex:this.inline?"0":"100"}},innerStyles:function(){return{"margin-left":this.showFullscreen?"-"+this.viewportWidth:"-".concat(this.width,"px")}},monthWidthStyles:function(){return{width:this.showFullscreen?this.viewportWidth:this.width+"px"}},showFullscreen:function(){return this.isMobile&&this.fullscreenMobile},datesSelected:function(){return!!(this.selectedDate1&&""!==this.selectedDate1||this.selectedDate2&&""!==this.selectedDate2)},allDatesSelected:function(){return!(!this.selectedDate1||""===this.selectedDate1||!this.selectedDate2||""===this.selectedDate2)},hasMinDate:function(){return!(!this.minDate||""===this.minDate)},isRangeMode:function(){return"range"===this.mode},isSingleMode:function(){return"single"===this.mode},datepickerWidth:function(){return this.width*this.showMonths},datePropsCompound:function(){return this.dateOne+this.dateTwo},holidaysPropsCompound:function(){return this.holidays},isDateTwoBeforeDateOne:function(){return!!this.dateTwo&&K(this.dateTwo,this.dateOne)},visibleMonths:function(){var t=this.months.filter(function(t,e){return e>0});return e(Array(this.showMonths)).map(function(e,n){return t[n].firstDateOfMonth})}},watch:{holidaysPropsCompound:function(t){this.holidays=t},selectDate1:function(t){this.isSelectingDate1=t,this.initial&&!this.isSelectingDate1&&(this.initial=!1)},selectedDate1:function(t,e){var n=t&&""!==t?G(t,this.dateFormat):"";this.$emit("date-one-selected",n)},selectedDate2:function(t,e){var n=t&&""!==t?G(t,this.dateFormat):"";this.$emit("date-two-selected",n)},mode:function(t,e){this.setStartDates()},datePropsCompound:function(t){this.dateOne!==this.selectedDate1&&(this.startingDate=this.dateOne,this.setStartDates(),this.generateMonths()),this.isDateTwoBeforeDateOne&&(this.selectedDate2="",this.$emit("date-two-selected",""))},trigger:function(t,e){t&&this.openDatepicker()}},created:function(){var t,e,n,i,s=this;this.setupDatepicker(),this.sundayFirst&&this.setSundayToFirstDayInWeek(),this._handleWindowResizeEvent=(t=function(){s.positionDatepicker(),s.setStartDates()},e=200,function(){var s=this,r=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(s,r)},e),a&&t.apply(s,r)}),this._handleWindowClickEvent=function(t){t.target.id===s.triggerElementId&&(t.stopPropagation(),t.preventDefault(),s.toggleDatepicker())},window.addEventListener("resize",this._handleWindowResizeEvent),window.addEventListener("click",this._handleWindowClickEvent)},mounted:function(){this.triggerElement=this.isTest?document.createElement("input"):document.getElementById(this.triggerElementId),this.setStartDates(),this.generateMonths(),(this.startOpen||this.inline)&&this.openDatepicker(),this.triggerElement.addEventListener("keyup",this.handleTriggerInput)},destroyed:function(){window.removeEventListener("resize",this._handleWindowResizeEvent),window.removeEventListener("click",this._handleWindowClickEvent),this.triggerElement.removeEventListener("keyup",this.handleTriggerInput)},methods:{getDayStyles:function(t){return{width:(this.width-30)/7+"px"}},handleClickOutside:function(t){t.target.id!==this.triggerElementId&&this.showDatepicker&&!this.inline&&this.closeDatepicker()},handleTriggerInput:function(t){var e=40,n=38,i=39,s=37;t.keyCode!==e||t.shiftKey||this.showDatepicker?t.keyCode===n&&!t.shiftKey&&this.showDatepicker?this.closeDatepicker():t.keyCode===i&&!t.shiftKey&&this.showDatepicker?this.nextMonth():t.keyCode===s&&!t.shiftKey&&this.showDatepicker?this.previousMonth():"single"===this.mode&&this.setDateFromText(t.target.value):this.openDatepicker()},setDateFromText:function(t){if(!(t.length<10)){var e=t.match(/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/),n=t.match(/^(0[1-9]|1[0-9]|2[0-9]|3[0-1])[.](0[1-9]|1[0-2])[.](\d{4})$/);if(e||n){n&&(t="".concat(t.substring(6,10),"-").concat(t.substring(3,5),"-").concat(t.substring(0,2)));var i=new Date(t);if(N(i)){var s=G(i,this.dateFormat);this.isDateDisabled(s)||this.isBeforeMinDate(s)||this.isAfterEndDate(s)||(this.startingDate=U(s,1),this.generateMonths(),this.selectDate(s))}}}},generateMonths:function(){this.months=[];for(var t=0;t<this.showMonths+2;t++)this.months.push(this.getMonth(this.startingDate)),this.startingDate=this.addMonths(this.startingDate)},setupDatepicker:function(){if(this.$options.sundayFirst&&(this.sundayFirst=q(this.$options.sundayFirst)),this.$options.colors){var t=q(this.$options.colors);this.colors.selected=t.selected||this.colors.selected,this.colors.inRange=t.inRange||this.colors.inRange,this.colors.selectedText=t.selectedText||this.colors.selectedText,this.colors.text=t.text||this.colors.text,this.colors.inRangeBorder=t.inRangeBorder||this.colors.inRangeBorder,this.colors.disabled=t.disabled||this.colors.disabled}if(this.$options.monthNames&&12===this.$options.monthNames.length&&(this.monthNames=q(this.$options.monthNames)),this.$options.days&&7===this.$options.days.length&&(this.days=q(this.$options.days)),this.$options.daysShort&&7===this.$options.daysShort.length&&(this.daysShort=q(this.$options.daysShort)),this.$options.texts){var e=q(this.$options.texts);this.texts.apply=e.apply||this.texts.apply,this.texts.cancel=e.cancel||this.texts.cancel}},setStartDates:function(){var t=this.dateOne||new Date;this.hasMinDate&&K(t,this.minDate)&&(t=this.minDate),this.startingDate=this.subtractMonths(t),this.selectedDate1=this.dateOne,this.selectedDate2=this.dateTwo},setSundayToFirstDayInWeek:function(){var t=this.days.pop();this.days.unshift(t);var e=this.daysShort.pop();this.daysShort.unshift(e)},getMonth:function(t){var e=G(t,"YYYY-MM-01"),n=G(t,"YYYY"),i=parseInt(G(t,"M"));return{year:n,firstDateOfMonth:e,monthName:this.monthNames[i-1],monthNumber:i,weeks:this.getWeeks(e)}},getWeeks:function(t){var e={dayNumber:0},n=J(t),i=G(t,"YYYY"),s=G(t,"MM"),r=parseInt(G(t,this.sundayFirst?"d":"E"));this.sundayFirst&&r++;for(var a=[],o=[],h=1;h<r;h++)o.push(e);for(var c=0;c<n;c++){var u=c>=n-1,l=c+1,d=l<10?"0"+l:l;if(o.push({dayNumber:l,dayNumberFull:d,fullDate:i+"-"+s+"-"+d}),7===o.length)a.push(o),o=[];else if(u){for(var f=0;f<7-o.length;f++)o.push(e);a.push(o),o=[]}}return a},selectDate:function(t){if(!(this.isBeforeMinDate(t)||this.isAfterEndDate(t)||this.isDateDisabled(t))){if("single"===this.mode)return this.selectedDate1=t,void this.closeDatepicker();this.selectedDate1&&this.selectedDate2&&this.isSelectingDate1&&(this.selectedDate1="",this.selectedDate2=""),this.isSelectingDate1?(this.selectedDate1=t,this.isSelectingDate1=!1):(this.selectedDate2=t,this.isSelectingDate1=!0)}},setHoverDate:function(t){this.hoverDate=t},isSelected:function(t){if(t)return this.selectedDate1===t||this.selectedDate2===t},isInRange:function(t){return!(!this.allDatesSelected||this.isSingleMode)&&(Q(t,this.selectedDate1)&&K(t,this.selectedDate2)||Q(t,this.selectedDate1)&&K(t,this.hoverDate)&&!this.allDatesSelected)},isInitial:function(){return this.initial},isBeforeMinDate:function(t){return!!this.minDate&&K(t,this.minDate)},isBeforeSelectedDate1WhileSelectingDate2:function(t){return K(t,this.selectedDate1)&&!this.selectedDate2},isAfterEndDate:function(t){return!!this.endDate&&Q(t,this.endDate)},isDateDisabled:function(t){return this.disabledDates.indexOf(t)>-1},isDisabled:function(t){return this.isDateDisabled(t)||this.isBeforeMinDate(t)||this.isBeforeSelectedDate1WhileSelectingDate2(t)||this.isAfterEndDate(t)},isDefault:function(t){return!this.isDisabled(t)&&0!==this.dayNumber&&!this.isSelected(t)&&!this.isInRange(t)},isHoliday:function(t){return this.holidays&&this.holidays.indexOf(t)>-1},previousMonth:function(){this.startingDate=this.subtractMonths(this.months[0].firstDateOfMonth),this.months.unshift(this.getMonth(this.startingDate)),this.months.splice(this.months.length-1,1),this.$emit("previous-month",this.visibleMonths)},nextMonth:function(){var t=this;this.startingDate=this.addMonths(this.months[this.months.length-1].firstDateOfMonth),this.months.push(this.getMonth(this.startingDate)),setTimeout(function(){t.months.splice(0,1),t.$emit("next-month",t.visibleMonths)},100)},subtractMonths:function(t){return G(U(t,1),this.dateFormat)},addMonths:function(t){return G(Z(t,1),this.dateFormat)},toggleDatepicker:function(){this.showDatepicker?this.closeDatepicker():this.openDatepicker()},openDatepicker:function(){this.positionDatepicker(),this.setStartDates(),this.triggerElement.classList.add("datepicker-open"),this.showDatepicker=!0,this.initialDate1=this.dateOne,this.initialDate2=this.dateTwo,this.$emit("opened")},closeDatepickerCancel:function(){this.showDatepicker&&(this.selectedDate1=this.initialDate1,this.selectedDate2=this.initialDate2,this.closeDatepicker())},closeDatepicker:function(){this.inline||(this.showDatepicker=!1,this.triggerElement.classList.remove("datepicker-open"),this.$emit("closed"))},apply:function(){this.$emit("apply"),this.closeDatepicker()},positionDatepicker:function(){var t=function(t,e){if(!t)return null;if("function"==typeof t.closest)return t.closest(e)||null;for(;t;){if(t.matches(e))return t;t=t.parentElement}return null}(this.triggerElement,".datepicker-trigger");this.triggerPosition=this.triggerElement.getBoundingClientRect(),this.triggerWrapperPosition=t?t.getBoundingClientRect():{left:0,right:0};var e=document.documentElement.clientWidth||window.innerWidth;this.viewportWidth=e+"px",this.isMobile=e<768,this.isTablet=e>=768&&e<=1024,this.showMonths=this.isMobile?1:this.isTablet&&this.monthsToShow>2?2:this.monthsToShow,this.$nextTick(function(){var t=document.getElementById(this.wrapperId);if(this.triggerElement&&t){var n=this.triggerElement.getBoundingClientRect().left+t.getBoundingClientRect().width;this.alignRight=n>e}})},onDayClick:function(t){this.initial=!1,this.selectDate(t)}}},tt={bind:function(t,e,n){t.event=function(i){t===i.target||t.contains(i.target)||n.context[e.expression](i)},document.body.addEventListener("click",t.event),document.body.addEventListener("touchstart",t.event)},unbind:function(t){document.body.removeEventListener("click",t.event),document.body.removeEventListener("touchstart",t.event)}},et={install:function(e,n){e.directive("click-outside",tt),e.component(V.name,function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(n){t(e,n,i[n])})}return e}({},n,V))}};return"undefined"!=typeof window&&window.Vue&&(window.AirbnbStyleDatepicker=et),et});
//# sourceMappingURL=vue-airbnb-style-datepicker.min.js.map
