!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("date-fns/format"),require("date-fns/sub_months"),require("date-fns/add_months"),require("date-fns/get_days_in_month"),require("date-fns/is_before"),require("date-fns/is_after"),require("date-fns/is_valid")):"function"==typeof define&&define.amd?define(["date-fns/format","date-fns/sub_months","date-fns/add_months","date-fns/get_days_in_month","date-fns/is_before","date-fns/is_after","date-fns/is_valid"],e):t.vueAirbnbStyleDatepicker=e(t.dateFns.format,t.dateFns.subMonths,t.dateFns.addMonths,t.dateFns.getDaysInMonth,t.dateFns.isBefore,t.dateFns.isAfter,t.dateFns.isValid)}(this,function(t,e,i,s,n,a,o){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i,s=s&&s.hasOwnProperty("default")?s.default:s,n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a,o=o&&o.hasOwnProperty("default")?o.default:o,Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var n=arguments[s];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},writable:!0,configurable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var s=arguments[1],n=0;n<i;){var a=e[n];if(t.call(s,a,n,e))return n;n++}return-1}});var l=function(t){return JSON.parse(JSON.stringify(t))},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"asd__fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDatepicker,expression:"showDatepicker"},{name:"click-outside",rawName:"v-click-outside",value:t.handleClickOutside,expression:"handleClickOutside"}],ref:"wrapper",staticClass:"asd__wrapper",class:t.wrapperClasses,style:t.showFullscreen?void 0:t.wrapperStyles,attrs:{id:t.wrapperId}},[t.showFullscreen?i("div",{staticClass:"asd__mobile-header asd__mobile-only"},[i("div",{staticClass:"asd__mobile-close",on:{click:t.closeDatepicker}},[i("div",{staticClass:"asd__mobile-close-icon"},[t._v("X")])]),t._v(" "),i("h3",[t._v(t._s(t.mobileHeader))])]):t._e(),t._v(" "),i("div",{staticClass:"asd__datepicker-header"},[i("div",{staticClass:"asd__change-month-button asd__change-month-button--previous"},[i("button",{attrs:{type:"button"},on:{click:t.previousMonth}},[i("svg",{attrs:{viewBox:"0 0 1000 1000"}},[i("path",{attrs:{d:"M336.2 274.5l-210.1 210h805.4c13 0 23 10 23 23s-10 23-23 23H126.1l210.1 210.1c11 11 11 21 0 32-5 5-10 7-16 7s-11-2-16-7l-249.1-249c-11-11-11-21 0-32l249.1-249.1c21-21.1 53 10.9 32 32z"}})])])]),t._v(" "),i("div",{staticClass:"asd__change-month-button asd__change-month-button--next"},[i("button",{attrs:{type:"button"},on:{click:t.nextMonth}},[i("svg",{attrs:{viewBox:"0 0 1000 1000"}},[i("path",{attrs:{d:"M694.4 242.4l249.1 249.1c11 11 11 21 0 32L694.4 772.7c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210.1-210.1H67.1c-13 0-23-10-23-23s10-23 23-23h805.4L662.4 274.5c-21-21.1 11-53.1 32-32.1z"}})])])])]),t._v(" "),i("div",{staticClass:"asd__inner-wrapper",style:t.innerStyles},[i("transition-group",{attrs:{name:"asd__list-complete",tag:"div"}},t._l(t.months,function(e,s){return i("div",{key:e.firstDateOfMonth,ref:"month",refInFor:!0,staticClass:"asd__month",class:{"asd__month--hidden":0===s||s>t.showMonths,"animate-rtl":t.jumpDateIsBefore},style:t.monthWidthStyles},[i("div",{staticClass:"asd__month-name"},[t._v(t._s(e.monthName)+" "+t._s(e.year))]),t._v(" "),i("table",{staticClass:"asd__month-table",attrs:{role:"presentation"}},[i("thead",[i("tr",{staticClass:"asd__day-titles"},t._l(t.daysShort,function(e,s){return i("th",{key:"day-".concat(s),staticClass:"asd__day-title"},[t._v(t._s(e))])}))]),t._v(" "),i("tbody",t._l(e.weeks,function(e,s){return i("tr",{key:s,staticClass:"asd__week"},t._l(e,function(e,s){var n=e.fullDate,a=e.dayNumber;return i("td",{key:s+"_"+a,staticClass:"asd__day",class:{"asd__day--enabled":0!==a,"asd__day--empty":0===a,"asd__day--default":t.isDefault(n)||t.initial&&!t.isDisabled(n),"asd__day--disabled":t.isDisabled(n),"asd__day--selected":t.selectedDate1===n||t.selectedDate2===n,"asd__day--selected-date-one":t.selectedDate1===n&&t.isRangeMode,"asd__day--selected-date-two":t.selectedDate2===n&&t.isRangeMode,"asd__day--in-range":t.isInRange(n),"asd__day--holiday":t.isHoliday(n)},attrs:{"data-date":n,title:t.getHolidayName(n)},on:{mouseover:function(){t.setHoverDate(n)}}},[a?i("button",{staticClass:"asd__day-button",attrs:{type:"button",date:n,disabled:t.isDisabled(n)},on:{click:function(e){t.onDayClick(n)}}},[t._v(t._s(a))]):t._e()])}))}))])])}))],1),t._v(" "),"single"!==t.mode&&t.showActionButtons?i("div",{staticClass:"asd__action-buttons"},[i("button",{attrs:{type:"button"},on:{click:t.closeDatepickerCancel}},[t._v(t._s(t.texts.cancel))]),t._v(" "),i("button",{style:{color:t.colors.selected},attrs:{type:"button"},on:{click:t.apply}},[t._v(t._s(t.texts.apply))])]):t._e()])])},staticRenderFns:[],name:"AirbnbStyleDatepicker",props:{triggerElementId:{type:String},dateOne:{type:[String,Date],default:t(new Date)},dateTwo:{type:[String,Date]},selectDate1:{type:Boolean},minDate:{type:[String,Date]},endDate:{type:[String,Date]},mode:{type:String,default:"range"},offsetY:{type:Number,default:0},offsetX:{type:Number,default:0},monthsToShow:{type:Number,default:2},startOpen:{type:Boolean},fullscreenMobile:{type:Boolean},inline:{type:Boolean},mobileHeader:{type:String,default:"Select date"},disabledDates:{type:Array,default:function(){return[]}},showActionButtons:{type:Boolean,default:!0},isTest:{type:Boolean,default:function(){return!1}},trigger:{type:Boolean,default:!1},holidays:{type:Array}},data:function(){return{wrapperId:"airbnb-style-datepicker-wrapper-"+function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}(5),dateFormat:"YYYY-MM-DD",showDatepicker:!1,showMonths:2,colors:{selected:"#00a699",inRange:"#66e2da",selectedText:"#fff",text:"#565a5c",inRangeBorder:"#33dacd",disabled:"#fff"},sundayFirst:!1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["M","D","M","D","F","S","S"],texts:{apply:"Apply",cancel:"Cancel"},startingDate:"",months:[],width:100,selectedDate1:"",selectedDate2:"",isSelectingDate1:!0,initial:!0,hoverDate:"",alignRight:!1,triggerPosition:{},triggerWrapperPosition:{},viewportWidth:window.innerWidth+"px",isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<=1024,triggerElement:void 0,jumpDateIsBefore:!1}},computed:{innerStyles:function(){return{"margin-left":this.showFullscreen?"-".concat(this.width,"%"):"-".concat(this.width/this.showMonths,"%")}},wrapperClasses:function(){return{"asd__wrapper--datepicker-open":this.showDatepicker,"asd__wrapper--full-screen":this.showFullscreen,"asd__wrapper--inline":this.inline,"asd__wrapper--initial":this.initial,"asd__wrapper--single":this.isSingleMode}},wrapperStyles:function(){return{position:this.inline?"static":"absolute",top:this.inline?"0":this.triggerPosition.height+this.offsetY+"px",left:this.alignRight?"":this.triggerPosition.left-this.triggerWrapperPosition.left+this.offsetX+"px",right:this.alignRight?this.triggerWrapperPosition.right-this.triggerPosition.right+this.offsetX+"px":"",width:this.width+"%",zIndex:this.inline?"0":"100"}},monthWidthStyles:function(){return{width:this.showFullscreen?this.width+"%":this.width/this.showMonths+"%"}},showFullscreen:function(){return this.isMobile&&this.fullscreenMobile},datesSelected:function(){return!!(this.selectedDate1&&""!==this.selectedDate1||this.selectedDate2&&""!==this.selectedDate2)},allDatesSelected:function(){return!(!this.selectedDate1||""===this.selectedDate1||!this.selectedDate2||""===this.selectedDate2)},hasMinDate:function(){return!(!this.minDate||""===this.minDate)},isRangeMode:function(){return"range"===this.mode},isSingleMode:function(){return"single"===this.mode},datePropsCompound:function(){return this.dateOne+this.dateTwo},holidaysPropsCompound:function(){return this.holidays},isDateTwoBeforeDateOne:function(){return!!this.dateTwo&&n(this.dateTwo,this.dateOne)},visibleMonths:function(){var t=this.months.filter(function(t,e){return e>0});return h(Array(this.showMonths)).map(function(e,i){return t[i].firstDateOfMonth})}},watch:{holidaysPropsCompound:function(t){this.holidays=t},selectDate1:function(t){this.isSelectingDate1=t,this.initial&&!this.isSelectingDate1&&(this.initial=!1)},selectedDate1:function(e,i){var s=e&&""!==e?t(e,this.dateFormat):"";this.$emit("date-one-selected",s)},selectedDate2:function(e,i){var s=e&&""!==e?t(e,this.dateFormat):"";this.$emit("date-two-selected",s)},mode:function(t,e){this.setStartDates()},datePropsCompound:function(t){this.dateOne!==this.selectedDate1&&(this.startingDate=this.dateOne,this.setStartDates(),this.generateMonths()),this.isDateTwoBeforeDateOne&&(this.selectedDate2="",this.$emit("date-two-selected",""))},trigger:function(t,e){t&&this.openDatepicker()}},created:function(){var t,e,i,s,n=this;this.setupDatepicker(),this.sundayFirst&&this.setSundayToFirstDayInWeek(),this._handleWindowResizeEvent=(t=function(){n.generateMonths(),n.positionDatepicker(),n.setStartDates()},e=200,function(){var n=this,a=arguments,o=i&&!s;clearTimeout(s),s=setTimeout(function(){s=null,i||t.apply(n,a)},e),o&&t.apply(n,a)}),this._handleWindowClickEvent=function(t){t.target.id===n.triggerElementId&&(t.stopPropagation(),t.preventDefault(),n.toggleDatepicker())},window.addEventListener("resize",this._handleWindowResizeEvent),window.addEventListener("click",this._handleWindowClickEvent)},mounted:function(){this.triggerElement=this.isTest?document.createElement("input"):document.getElementById(this.triggerElementId),this.setStartDates(),this.generateMonths(),(this.startOpen||this.inline)&&this.openDatepicker(),this.triggerElement.addEventListener("keyup",this.handleTriggerInput)},destroyed:function(){window.removeEventListener("resize",this._handleWindowResizeEvent),window.removeEventListener("click",this._handleWindowClickEvent),this.triggerElement.removeEventListener("keyup",this.handleTriggerInput)},methods:{handleClickOutside:function(t){t.target.id!==this.triggerElementId&&this.showDatepicker&&!this.inline&&this.closeDatepicker()},handleTriggerInput:function(t){var e=40,i=38,s=39,n=37;t.keyCode!==e||t.shiftKey||this.showDatepicker?t.keyCode===i&&!t.shiftKey&&this.showDatepicker?this.closeDatepicker():t.keyCode===s&&!t.shiftKey&&this.showDatepicker?this.nextMonth():t.keyCode===n&&!t.shiftKey&&this.showDatepicker?this.previousMonth():"single"===this.mode&&this.setDateFromText(t.target.value):this.openDatepicker()},setDateFromText:function(i){if(!(i.length<10)){var s=i.match(/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/),n=i.match(/^(0[1-9]|1[0-9]|2[0-9]|3[0-1])[.](0[1-9]|1[0-2])[.](\d{4})$/);if(s||n){n&&(i="".concat(i.substring(6,10),"-").concat(i.substring(3,5),"-").concat(i.substring(0,2)));var a=new Date(i);if(o(a)){var r=t(a,this.dateFormat);this.isDateDisabled(r)||this.isBeforeMinDate(r)||this.isAfterEndDate(r)||(this.startingDate=e(r,1),this.generateMonths(),this.selectDate(r))}}}},generateMonths:function(){this.months=[];for(var t=0;t<this.showMonths+2;t++)this.months.push(this.getMonth(this.startingDate)),this.startingDate=this.addMonths(this.startingDate)},setupDatepicker:function(){if(this.$options.sundayFirst&&(this.sundayFirst=l(this.$options.sundayFirst)),this.$options.colors){var t=l(this.$options.colors);this.colors.selected=t.selected||this.colors.selected,this.colors.inRange=t.inRange||this.colors.inRange,this.colors.selectedText=t.selectedText||this.colors.selectedText,this.colors.text=t.text||this.colors.text,this.colors.inRangeBorder=t.inRangeBorder||this.colors.inRangeBorder,this.colors.disabled=t.disabled||this.colors.disabled}if(this.$options.monthNames&&12===this.$options.monthNames.length&&(this.monthNames=l(this.$options.monthNames)),this.$options.days&&7===this.$options.days.length&&(this.days=l(this.$options.days)),this.$options.daysShort&&7===this.$options.daysShort.length&&(this.daysShort=l(this.$options.daysShort)),this.$options.texts){var e=l(this.$options.texts);this.texts.apply=e.apply||this.texts.apply,this.texts.cancel=e.cancel||this.texts.cancel}console.log(this.$options.visibleMonths),this.$options.visibleMonths&&(this.showMonths=this.$options.visibleMonths)},setStartDates:function(){var t=this.dateOne||new Date;this.hasMinDate&&n(t,this.minDate)&&(t=this.minDate),this.startingDate=this.subtractMonths(t),this.selectedDate1=this.dateOne,this.selectedDate2=this.dateTwo},setSundayToFirstDayInWeek:function(){var t=this.days.pop();this.days.unshift(t);var e=this.daysShort.pop();this.daysShort.unshift(e)},getMonth:function(e){var i=t(e,"YYYY-MM-01"),s=t(e,"YYYY"),n=parseInt(t(e,"M"));return{year:s,firstDateOfMonth:i,monthName:this.monthNames[n-1],monthNumber:n,weeks:this.getWeeks(i)}},getWeeks:function(e){var i={dayNumber:0},n=s(e),a=t(e,"YYYY"),o=t(e,"MM"),r=parseInt(t(e,this.sundayFirst?"d":"E"));this.sundayFirst&&r++;for(var h=[],l=[],d=1;d<r;d++)l.push(i);for(var c=0;c<n;c++){var u=c>=n-1,p=c+1,f=p<10?"0"+p:p;if(l.push({dayNumber:p,dayNumberFull:f,fullDate:a+"-"+o+"-"+f}),7===l.length)h.push(l),l=[];else if(u){for(var m=0;m<7-l.length;m++)l.push(i);h.push(l),l=[]}}return h},selectDate:function(t){if(!(this.isBeforeMinDate(t)||this.isAfterEndDate(t)||this.isDateDisabled(t))){if("single"===this.mode)return this.selectedDate1=t,void this.closeDatepicker();this.selectedDate1&&this.selectedDate2&&this.isSelectingDate1&&(this.selectedDate1===t&&this.$emit("date-one-selected",t),this.selectedDate1="",this.selectedDate2=""),this.isSelectingDate1?(this.selectedDate1=t,this.isSelectingDate1=!1):(this.selectedDate2=t,this.isSelectingDate1=!0)}},setHoverDate:function(t){this.hoverDate=t},isSelected:function(t){if(t)return this.selectedDate1===t||this.selectedDate2===t},isInRange:function(t){return!(!this.allDatesSelected||this.isSingleMode)&&(a(t,this.selectedDate1)&&n(t,this.selectedDate2)||a(t,this.selectedDate1)&&n(t,this.hoverDate)&&!this.allDatesSelected)},isInitial:function(){return this.initial},isBeforeMinDate:function(t){return!!this.minDate&&n(t,this.minDate)},isBeforeSelectedDate1WhileSelectingDate2:function(t){return this.isRangeMode&&n(t,this.selectedDate1)&&(!this.selectedDate2||!this.isSelectingDate1)},isAfterEndDate:function(t){return!!this.endDate&&a(t,this.endDate)},isDateDisabled:function(t){return this.disabledDates.indexOf(t)>-1},isDisabled:function(t){return this.isDateDisabled(t)||this.isBeforeMinDate(t)||this.isBeforeSelectedDate1WhileSelectingDate2(t)||this.isAfterEndDate(t)},isDefault:function(t){return!this.isDisabled(t)&&0!==this.dayNumber&&!this.isSelected(t)&&!this.isInRange(t)},isHoliday:function(t){return this.holidays&&t in this.holidays},getHolidayName:function(t){return this.holidays&&this.holidays[t]},previousMonth:function(){this.jumpDateIsBefore=!1,this.startingDate=this.subtractMonths(this.months[0].firstDateOfMonth),this.months.unshift(this.getMonth(this.startingDate)),this.months.splice(this.months.length-1,1),this.$emit("previous-month",this.visibleMonths)},jumpToDate:function(t){var i=this;this.startingDate=e(t,1);var s=this.getMonth(t),n=this.visibleMonths,a=this.getMonth(n[0]),o=s.monthNumber-a.monthNumber,r=12*(s.year-a.year)+o;this.visibleMonths.indexOf(t)<0&&(this.jumpDateIsBefore=r<0,this.$nextTick(function(){i.generateMonths()}))},nextMonth:function(){var t=this;this.jumpDateIsBefore=!1,this.startingDate=this.addMonths(this.months[this.months.length-1].firstDateOfMonth),this.months.push(this.getMonth(this.startingDate)),setTimeout(function(){t.months.splice(0,1),t.$emit("next-month",t.visibleMonths)},100)},subtractMonths:function(i){return t(e(i,1),this.dateFormat)},addMonths:function(e){return t(i(e,1),this.dateFormat)},toggleDatepicker:function(){this.showDatepicker?this.closeDatepicker():this.openDatepicker()},openDatepicker:function(){this.positionDatepicker(),this.setStartDates(),this.triggerElement.classList.add("datepicker-open"),this.showDatepicker=!0,this.initialDate1=this.dateOne,this.initialDate2=this.dateTwo,this.$emit("opened")},closeDatepickerCancel:function(){this.showDatepicker&&(this.selectedDate1=this.initialDate1,this.selectedDate2=this.initialDate2,this.closeDatepicker())},closeDatepicker:function(){this.inline||(this.showDatepicker=!1,this.triggerElement.classList.remove("datepicker-open"),this.$emit("closed"))},apply:function(){this.$emit("apply"),this.closeDatepicker()},positionDatepicker:function(){var t=function(t,e){if(!t)return null;if("function"==typeof t.closest)return t.closest(e)||null;for(;t;){if(t.matches(e))return t;t=t.parentElement}return null}(this.triggerElement,".datepicker-trigger");this.triggerPosition=this.triggerElement.getBoundingClientRect(),this.triggerWrapperPosition=t?t.getBoundingClientRect():{left:0,right:0};var e=document.documentElement.clientWidth||window.innerWidth;this.viewportWidth=e+"px",this.isMobile=e<768,this.isTablet=e>=768&&e<=1024,this.showMonths=this.isMobile?1:this.isTablet&&this.monthsToShow>2?2:this.monthsToShow,this.$nextTick(function(){var t=document.getElementById(this.wrapperId);if(this.triggerElement&&t){var i=this.triggerElement.getBoundingClientRect().left+t.getBoundingClientRect().width;this.alignRight=i>e}})},onDayClick:function(t){this.initial=!1,this.selectDate(t)}}},c={bind:function(t,e,i){t.event=function(s){t===s.target||t.contains(s.target)||i.context[e.expression](s)},document.body.addEventListener("click",t.event),document.body.addEventListener("touchstart",t.event)},unbind:function(t){document.body.removeEventListener("click",t.event),document.body.removeEventListener("touchstart",t.event)}},u={install:function(t,e){t.directive("click-outside",c),t.component(d.name,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){r(t,e,i[e])})}return t}({},e,d))}};return"undefined"!=typeof window&&window.Vue&&(window.AirbnbStyleDatepicker=u),u});
//# sourceMappingURL=vue-airbnb-style-datepicker.min.js.map
